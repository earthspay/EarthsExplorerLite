<earths-page-header title="Block" subtitle="ctrl.signature"></earths-page-header>

<div class="row">
    <div class="col-lg-12">
        <div class="profile-user-info profile-user-info-striped">
            <div class="profile-info-row">
                <div class="profile-info-name width-20">Version</div>
                <div class="profile-info-value">{{ctrl.details.version}}</div>
            </div>
            <div class="profile-info-row">
                <div class="profile-info-name">Timestamp</div>
                <div class="profile-info-value">{{ctrl.details.timestamp|earthsdate}}</div>
            </div>
            <div class="profile-info-row">
                <div class="profile-info-name">Transactions</div>
                <div class="profile-info-value">{{ctrl.details.transactions.length}}</div>
            </div>
            <div class="profile-info-row">
                <div class="profile-info-name">Parent block</div>
                <div class="profile-info-value">{{ctrl.details.reference}}</div>
            </div>
            <div class="profile-info-row">
                <div class="profile-info-name">Generator</div>
                <div class="profile-info-value"><earths-endpoint-ref endpoint="ctrl.details.generator"></earths-endpoint-ref></div>
            </div>
            <div class="profile-info-row">
                <div class="profile-info-name">Signature</div>
                <div class="profile-info-value">{{ctrl.details.signature}}</div>
            </div>
            <div class="profile-info-row">
                <div class="profile-info-name">Size</div>
                <div class="profile-info-value">{{ctrl.details.blocksize}} bytes</div>
            </div>
            <div class="profile-info-row">
                <div class="profile-info-name">Base Target</div>
                <div class="profile-info-value">{{ctrl.details["nxt-consensus"]["base-target"]}}</div>
            </div>
        </div>
        <h2 class="header smaller blue">Transactions</h2>

        <earths-transaction-table title="Transactions">
            <table class="table blockDetails">
                <thead>
                <tr class="active">
                    <th>Type</th>
                    <th>Fee</th>
                    <th>Timestamp</th>
                    <th>Signature</th>
                    <th>Sender</th>
                    <th>Recipient</th>
                    <th><span class="pull-right">Amount</span></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in ctrl.details.transactions">
                    <td>{{item.type}}</td>
                    <td>{{item.fee|earthlets}}</td>
                    <td>{{item.timestamp|earthsdate}}</td>
                    <td><a class="mono" ui-sref="tx-details({id:item.id})">{{item.signature|limitTo:7}}...</a></td>
                    <td><earths-endpoint-ref endpoint="item.sender" max-length="12"></earths-endpoint-ref></td>
                    <td><earths-endpoint-ref endpoint="item.recipient" max-length="12"></earths-endpoint-ref></td>
                    <td><span class="pull-right">{{item.amount|earthlets}}</span></td>
                </tr>
                </tbody>
            </table>
        </earths-transaction-table>
    </div>
</div>
